<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2048 Modern - è±ªåç‰ˆ</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #4f46e5;
            --accent: #f59e0b;
            --bg: #f8fafc;
            --text: #1e293b;
        }

        body {
            background: linear-gradient(135deg, var(--bg) 0%, #e2e8f0 100%);
            font-family: 'Inter', system-ui;
            min-height: 100vh;
            color: var(--text);
        }

        .glass-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .achievement-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .changelog-entry {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loader {
            width: 40px;
            height: 40px;
            border: 3px solid var(--primary);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container py-5" style="max-width: 800px;">
        
        <!-- æ–°å¢ä¸‹è½½æŒ‰é’® -->
        <section class="glass-container p-4 mb-4 text-center">
            <a href="https://raw.githubusercontent.com/Shu-Qi-Hang/2048_game/main/2048_new.cpp" 
               download="2048_new.cpp"
               class="btn btn-lg px-5 fw-bold"
               style="background: linear-gradient(135deg, var(--primary), var(--secondary); color: white">
               â¬‡ï¸ ä¸‹è½½æ¸¸æˆæºç 
            </a>
            <div class="mt-2 text-muted small">ç‰ˆæœ¬ v2.1.0 | æ›´æ–°æ—¥æœŸ 2023-08-01</div>
        </section>

        <!-- æˆå°±ç³»ç»Ÿ -->
        <section class="glass-container p-4 mb-4">
            <h2 class="text-2xl font-bold mb-3 text-primary">
                ğŸ† æˆå°±æ®¿å ‚
            </h2>
            <div class="achievement-carousel position-relative overflow-hidden" style="height: 200px">
            </div>
            <div class="d-flex justify-content-center gap-2 mt-3" id="carousel-dots"></div>
        </section>

        <!-- ç‰ˆæœ¬å†å² -->
        <section class="glass-container p-4">
            <h2 class="text-2xl font-bold mb-3 text-secondary">
                ğŸ“œ å¼€å‘å†ç¨‹
            </h2>
            <div class="scroll-container" style="max-height: 400px; overflow-y: auto">
                <div id="changelog"></div>
                <div class="text-center py-3" id="loading">
                    <div class="loader mx-auto"></div>
                    <div class="text-muted mt-2">æ­£åœ¨åŠ è½½æ›´æ–°æ—¥å¿—...</div>
                </div>
            </div>
        </section>
    </div>

    <script>
        const achievements = [
            { id:1, title:"åˆå‡ºèŒ…åº", desc:"å®Œæˆç¬¬ä¸€æ¬¡ç§»åŠ¨", icon:"ğŸš€" },
            { id:2, title:"å¦‚æ—¥ä¸­å‡", desc:"åˆæˆæ•°å­—512", icon:"â˜€ï¸" },
            { id:3, title:"ç»ˆæç›®æ ‡", desc:"åˆæˆæ•°å­—2048", icon:"ğŸ¯" },
            { id:4, title:"é—ªç”µæˆ˜", desc:"æ¸¸æˆåœ¨50å›åˆå†…ç»“æŸ", icon:"âš¡" },
            { id:5, title:"å¹¸è¿æ˜Ÿ", desc:"è¿ç»­ç”Ÿæˆ3æ¬¡æ•°å­—4", icon:"ğŸ€" },
            { id:6, title:"æŒä¹…æˆ˜", desc:"æ¸¸æˆæŒç»­300å›åˆä»¥ä¸Š", icon:"ğŸ›¡ï¸" },
            { id:7, title:"è¶…è¶Šæé™", desc:"åˆæˆæ•°å­—4096", icon:"ğŸ’" },
            { id:8, title:"æ”¹ä»£ç çš„ç‹—", desc:"æ›´æ”¹ä»£ç æ•°æ®", icon:"ğŸ‘¨ğŸ’»" }
        ];

        class AchievementCarousel {
            constructor() {
                this.carousel = document.querySelector('.achievement-carousel')
                this.dotsContainer = document.querySelector('#carousel-dots')
                this.currentIndex = 0
                this.interval = 3000
                this.init()
            }

            init() {
                this.carousel.innerHTML = ''
                this.dotsContainer.innerHTML = ''

                achievements.forEach((ach, index) => {
                    const card = document.createElement('div')
                    card.className = `achievement-card position-absolute w-100 ${index === 0 ? 'active' : ''}`
                    card.style.cssText = `transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); transform: translateX(${index === 0 ? 0 : 100}%); opacity: ${index === 0 ? 1 : 0};`
                    card.innerHTML = `
                        <div class="d-flex align-items-center" style="min-height: 120px">
                            <div class="text-3xl me-3">${ach.icon}</div>
                            <div>
                                <h3 class="h5 mb-1">${ach.title}</h3>
                                <p class="text-muted small mb-0">${ach.desc}</p>
                            </div>
                        </div>
                    `
                    this.carousel.appendChild(card)

                    const dot = document.createElement('div')
                    dot.style.cssText = `
                        width: 10px;
                        height: 10px;
                        border-radius: 50%;
                        background: ${index === 0 ? 'var(--primary)' : '#ddd'};
                        cursor: pointer;
                        transition: background 0.3s;
                    `
                    dot.addEventListener('click', () => this.goToSlide(index))
                    this.dotsContainer.appendChild(dot)
                })

                this.startAutoScroll()
                this.addEventListeners()
            }

            startAutoScroll() {
                this.intervalId = setInterval(() => this.nextSlide(), this.interval)
            }

            nextSlide() {
                const cards = document.querySelectorAll('.achievement-card')
                cards[this.currentIndex].style.transform = 'translateX(-100%)'
                cards[this.currentIndex].style.opacity = '0'
                
                this.currentIndex = (this.currentIndex + 1) % achievements.length
                
                cards[this.currentIndex].style.transform = 'translateX(0)'
                cards[this.currentIndex].style.opacity = '1'
                this.updateDots()
            }

            updateDots() {
                this.dotsContainer.childNodes.forEach((dot, index) => {
                    dot.style.background = index === this.currentIndex ? 'var(--primary)' : '#ddd'
                })
            }

            addEventListeners() {
                this.carousel.addEventListener('mouseenter', () => clearInterval(this.intervalId))
                this.carousel.addEventListener('mouseleave', () => this.startAutoScroll())
            }
        }

        async function loadChangelog() {
            try {
                const response = await fetch('https://raw.githubusercontent.com/Shu-Qi-Hang/2048_game/main/day.txt')
                if (!response.ok) throw new Error(`HTTPé”™è¯¯ ${response.status}`)
                
                const text = await response.text()
                const logs = text.split('\n').filter(line => line.trim().length > 0)

                const container = document.getElementById('changelog')
                container.innerHTML = ''
                
                logs.forEach((line, index) => {
                    const [date, version, ...descParts] = line.split(/\s+/)
                    const entry = document.createElement('div')
                    entry.className = 'changelog-entry mb-3 p-3 bg-white rounded shadow-sm'
                    entry.style.animationDelay = `${index * 0.1}s`
                    entry.innerHTML = `
                        <div class="d-flex align-items-start">
                            <div class="text-muted small me-3" style="min-width: 100px">${date}</div>
                            <div class="flex-grow-1">
                                <span class="badge bg-primary">${version}</span>
                                <span class="ms-2">${descParts.join(' ')}</span>
                            </div>
                        </div>
                    `
                    container.appendChild(entry)
                })

                document.getElementById('loading').remove()
            } catch (err) {
                document.getElementById('loading').innerHTML = `
                    <div class="alert alert-danger">
                        åŠ è½½å¤±è´¥: ${err.message}<br>
                        <small>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•</small>
                    </div>
                `
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new AchievementCarousel()
            loadChangelog()
        })
    </script>
</body>
</html>
